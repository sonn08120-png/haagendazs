<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/sub_02.css">
    <link rel="stylesheet" href="css/slider.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bxslider@4.2.17/dist/jquery.bxslider.min.js"></script>
    <title>Document</title>
</head>

<body>
    <header>
        <div class="nav_warp">
            <div class="nav_back">
                <div class="nav">
                    <h1>
                        <a href="index.html"><img src="image/logo.png" class="logo-default"></a>
                        <a href="index.html"><img src="image/logo_02.png" class="logo-scrolled"></a>
                    </h1>
                    <ul>
                        <li><a href="">Brand</a></li>
                        <li><a href="">Menu</a></li>
                        <li><a href="">Online Shop</a></li>
                        <li><a href="sub_02.html">Store</a></li>
                        <li><a href="sub_01.html">B2B</a></li>
                    </ul>
                    <p><a href="">login</a></p>
                </div>
            </div>
        </div>
        <div class="visual">
            <h2>HaagenDazs Store</h2>
            <img src="image/visual_02.png">
        </div>
    </header>
    <main>
        <div class="store_container">
            <div class="store"><img src="image/store_01.png">
                <ul>
                    <li>
                        <h2>하겐다즈 여의도점</h2>
                    </li>
                    <li>서울특별시 영등포구 의사당대로 108 (여의도동) 미성아파트 상가동 아일렉스 빌딩 1층</li>
                </ul>
            </div>
        </div>
        <div class="store_container">
            <div class="store"><img src="image/store_02.png">
                <ul>
                    <li>
                        <h2>하겐다즈 분당미금점</h2>
                    </li>
                    <li>경기도 성남시 분당구 돌마로 43 (금곡동) 메디파크 1층 101호</li>
                </ul>
            </div>
        </div>
        <div class="store_container">
            <div class="store"><img src="image/store_03.png">
                <ul>
                    <li>
                        <h2>하겐다즈 부산마린시티점</h2>
                    </li>
                    <li>부산광역시 해운대구 마린시티2로 38, 103호 (우동, 아이파크상가동 T3) </li>
                </ul>
            </div>
        </div>
        <div class="store_container">
            <div class="store"><img src="image/store_04.png">
                <ul>
                    <li>
                        <h2>하겐다즈 서초점</h2>
                    </li>
                    <li>서울특별시 서초구 서초대로38길 12, 1층 111-1호 (서초동)</li>
                </ul>
            </div>
        </div>
        <div class="store_container">
            <div class="store"><img src="image/store_05.png">
                <ul>
                    <li>
                        <h2>하겐다즈 판교점</h2>
                    </li>
                    <li>경기 성남시 분당구 분당내곡로 117 1층 101-3호 (백현동, 크래프톤타워)</li>
                </ul>
            </div>
        </div>
    </main>
    <footer>
        <div class="footer">
            <h1><a href="index.html"><img src="image/logo.png"></a></h1>
            <div class="footer_warp">
                <ul class="footer_list_01">
                    <li>개인정보처리방침</li>
                    <li>이용약관</li>
                    <li>이메일무단수집거부</li>
                </ul>
                <ul class="footer_list_02">
                    <li>한국하겐-다즈(주) 대표 : 김미조</li>
                    <li>주소 : 서울특별시 강남구 테헤란로 311 (역삼동, 아남타워 6층) | 사업자등록번호 : 106-81-28964</li>
                    <li>통신판매신고 : 강남-8186 | 대표전화 : 02-508-8500 | 개인정보관리책임자 : 김미조 대표</li>
                </ul>
                <ul class="footer_list_03">
                    <li>주식회사 에스와이피글로벌 대표 : 김광용 (사업자정보확인)</li>
                    <li>주소 : 서울특별시 강남구 봉은사로112길 26길, 5층 502호 (삼성동, 한호빌딩) | 사업자등록번호 : 262-88-00829</li>
                    <li>통신판매신고 : 2018-서울강남-00403 | 대표전화 : 070-7549-7020 | Email : cs@unitoa | 개인정보관리책임자 : 조현정</li>
                </ul>
                <p>© 2025 General Mills. All Rights Reserved.</p>
            </div>
        </div>
    </footer>
    <script>
        /* === IntersectionObserver로 nav shrink 토글하기 ===
        동작: header가 뷰포트에서 벗어나면 shrink 적용(= menu가 보이기 시작할 때)
        장점: scroll-snap / 점프 스크롤 / margin/padding 영향 모두 상관 없음
        */
        (function () {
            const nav = document.querySelector('.nav_warp');
            const header = document.querySelector('header');

            if (!nav || !header) return;

            // 옵저버 콜백: header가 보이지 않으면 shrink 추가
            const io = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // header가 화면에 보이면 원래 상태
                        nav.classList.remove('shrink');
                    } else {
                        // header가 화면에서 벗어나면 shrink
                        nav.classList.add('shrink');
                    }
                });
            }, {
                root: null,
                // header가 완전히 사라질 필요 없이 10%라도 밖으로 나가면 shrink
                threshold: 0.8,
                // 네비 높이만큼 미리 트리거 하고 싶으면 rootMargin 사용 (예: '-50px 0px 0px 0px')
                // rootMargin: `-${Math.round(nav.offsetHeight / 2)}px 0px 0px 0px`,
            });

            io.observe(header);

            // 초기 상태 보정 (페이지 새로고침 시)
            // (IntersectionObserver가 즉시 콜백을 실행하지 않는 환경에 대비)
            window.addEventListener('load', () => {
                // 강제로 체크: header의 bounding rect로 결정
                const rect = header.getBoundingClientRect();
                if (rect.bottom <= 0) nav.classList.add('shrink');
                else nav.classList.remove('shrink');
            });

            // (옵션) 리사이즈 시 네비 높이 등 변화에 대응
            window.addEventListener('resize', () => {
                // 필요 시 rootMargin 재설정하려면 옵저버를 재생성하는 로직을 여기에 넣어도 됨.
            });
        })();
    </script>
</body>

</html>